<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; media-src 'self' file:; img-src 'self' file:">
  <title>AudioPlayer by Pixamation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div class="brand">
        <img src="assets/icon.png" alt="AudioPlayer" class="app-logo">
        <div class="brand-text">
          <h1>AudioPlayer</h1>
          <img src="assets/pixamation-logo.png" alt="by Pixamation" class="pixamation-logo">
        </div>
      </div>
      <div class="master-controls">
        <label>Master Volume:</label>
        <input type="range" id="masterVolume" min="0" max="100" value="100" class="master-volume-slider">
        <span id="masterVolumeValue">100%</span>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Left Panel - Audio Decks -->
      <section class="audio-decks-panel">
        <h2>Audio Decks</h2>
        <div class="audio-decks" id="audioDecks">
          <!-- Audio Deck 1 -->
          <div class="audio-deck" data-deck="1">
            <div class="deck-header">
              <span class="deck-number">1</span>
              <span class="deck-filename" id="deckFilename1">-- Empty --</span>
              <button class="btn-remove" data-deck="1" title="Remove">×</button>
            </div>
            <div class="deck-timers">
              <div class="timer-group">
                <span class="timer-label">Elapsed</span>
                <span class="timer elapsed" id="deckElapsed1">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Length</span>
                <span class="timer length" id="deckLength1">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Remain</span>
                <span class="timer remaining" id="deckRemaining1">00:00</span>
              </div>
            </div>
            <div class="deck-progress">
              <div class="progress-bar" id="deckProgress1"></div>
            </div>
            <div class="deck-controls">
              <button class="btn-play" data-deck="1" title="Play">▶</button>
              <button class="btn-pause" data-deck="1" title="Pause">⏸</button>
              <button class="btn-stop" data-deck="1" title="Stop">⏹</button>
              <input type="range" class="deck-volume" data-deck="1" min="0" max="100" value="100" title="Volume">
            </div>
            <audio id="audio1" preload="metadata"></audio>
          </div>

          <!-- Audio Deck 2 -->
          <div class="audio-deck" data-deck="2">
            <div class="deck-header">
              <span class="deck-number">2</span>
              <span class="deck-filename" id="deckFilename2">-- Empty --</span>
              <button class="btn-remove" data-deck="2" title="Remove">×</button>
            </div>
            <div class="deck-timers">
              <div class="timer-group">
                <span class="timer-label">Elapsed</span>
                <span class="timer elapsed" id="deckElapsed2">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Length</span>
                <span class="timer length" id="deckLength2">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Remain</span>
                <span class="timer remaining" id="deckRemaining2">00:00</span>
              </div>
            </div>
            <div class="deck-progress">
              <div class="progress-bar" id="deckProgress2"></div>
            </div>
            <div class="deck-controls">
              <button class="btn-play" data-deck="2" title="Play">▶</button>
              <button class="btn-pause" data-deck="2" title="Pause">⏸</button>
              <button class="btn-stop" data-deck="2" title="Stop">⏹</button>
              <input type="range" class="deck-volume" data-deck="2" min="0" max="100" value="100" title="Volume">
            </div>
            <audio id="audio2" preload="metadata"></audio>
          </div>

          <!-- Audio Deck 3 -->
          <div class="audio-deck" data-deck="3">
            <div class="deck-header">
              <span class="deck-number">3</span>
              <span class="deck-filename" id="deckFilename3">-- Empty --</span>
              <button class="btn-remove" data-deck="3" title="Remove">×</button>
            </div>
            <div class="deck-timers">
              <div class="timer-group">
                <span class="timer-label">Elapsed</span>
                <span class="timer elapsed" id="deckElapsed3">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Length</span>
                <span class="timer length" id="deckLength3">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Remain</span>
                <span class="timer remaining" id="deckRemaining3">00:00</span>
              </div>
            </div>
            <div class="deck-progress">
              <div class="progress-bar" id="deckProgress3"></div>
            </div>
            <div class="deck-controls">
              <button class="btn-play" data-deck="3" title="Play">▶</button>
              <button class="btn-pause" data-deck="3" title="Pause">⏸</button>
              <button class="btn-stop" data-deck="3" title="Stop">⏹</button>
              <input type="range" class="deck-volume" data-deck="3" min="0" max="100" value="100" title="Volume">
            </div>
            <audio id="audio3" preload="metadata"></audio>
          </div>

          <!-- Audio Deck 4 -->
          <div class="audio-deck" data-deck="4">
            <div class="deck-header">
              <span class="deck-number">4</span>
              <span class="deck-filename" id="deckFilename4">-- Empty --</span>
              <button class="btn-remove" data-deck="4" title="Remove">×</button>
            </div>
            <div class="deck-timers">
              <div class="timer-group">
                <span class="timer-label">Elapsed</span>
                <span class="timer elapsed" id="deckElapsed4">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Length</span>
                <span class="timer length" id="deckLength4">00:00</span>
              </div>
              <div class="timer-group">
                <span class="timer-label">Remain</span>
                <span class="timer remaining" id="deckRemaining4">00:00</span>
              </div>
            </div>
            <div class="deck-progress">
              <div class="progress-bar" id="deckProgress4"></div>
            </div>
            <div class="deck-controls">
              <button class="btn-play" data-deck="4" title="Play">▶</button>
              <button class="btn-pause" data-deck="4" title="Pause">⏸</button>
              <button class="btn-stop" data-deck="4" title="Stop">⏹</button>
              <input type="range" class="deck-volume" data-deck="4" min="0" max="100" value="100" title="Volume">
            </div>
            <audio id="audio4" preload="metadata"></audio>
          </div>
        </div>

        <!-- Queue Section -->
        <div class="queue-section">
          <h3>Queue</h3>
          <div class="queue-list" id="queueList">
            <p class="queue-empty">Queue is empty. Drag files here or use the Queue button.</p>
          </div>
        </div>
      </section>

      <!-- Center Panel - Hot Buttons -->
      <section class="hot-buttons-panel">
        <h2>Hot Buttons</h2>
        <div class="hot-buttons-grid" id="hotButtonsGrid">
          <!-- Hot buttons 1-10 -->
          <button class="hot-button" data-slot="1"><span class="hot-number">1</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="2"><span class="hot-number">2</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="3"><span class="hot-number">3</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="4"><span class="hot-number">4</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="5"><span class="hot-number">5</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="6"><span class="hot-number">6</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="7"><span class="hot-number">7</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="8"><span class="hot-number">8</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="9"><span class="hot-number">9</span><span class="hot-label">Empty</span></button>
          <button class="hot-button" data-slot="10"><span class="hot-number">10</span><span class="hot-label">Empty</span></button>
        </div>
        <p class="hot-buttons-hint">Drag audio files to assign. Click to play. Right-click to clear.</p>
      </section>

      <!-- Right Panel - File Browser -->
      <section class="file-browser-panel">
        <h2>File Browser</h2>
        
        <!-- Master Folder Controls -->
        <div class="folder-controls">
          <button id="btnSetMasterFolder" class="btn-folder">Set Master Folder</button>
          <span id="masterFolderPath" class="folder-path">No folder selected</span>
        </div>

        <!-- Subfolder Dropdown -->
        <div class="subfolder-selector">
          <label for="subfolderSelect">Folder:</label>
          <select id="subfolderSelect">
            <option value="">All Folders</option>
          </select>
        </div>

        <!-- Search -->
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Search audio files..." class="search-input">
          <button id="btnSearch" class="btn-search">Search</button>
        </div>

        <!-- File List -->
        <div class="file-list-container">
          <div class="file-list" id="fileList">
            <p class="file-list-empty">Select a master folder to browse audio files.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Status Bar -->
    <footer class="status-bar">
      <span id="statusMessage">Ready</span>
      <span id="statusTime"></span>
    </footer>
  </div>

  <!-- Context Menu (hidden) -->
  <div class="context-menu" id="contextMenu" style="display: none;">
    <button class="context-item" data-action="load-deck">Load to Deck</button>
    <button class="context-item" data-action="add-queue">Add to Queue</button>
    <button class="context-item" data-action="assign-hot">Assign to Hot Button</button>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
